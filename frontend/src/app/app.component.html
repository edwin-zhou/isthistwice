<mat-toolbar style="top: 0; position: sticky; z-index: 1000;" color='accent' [class.mat-elevation-z5]='true'>
  <span>My Application</span>
</mat-toolbar>

<mat-grid-list cols="4" rowHeight="200px">
  <form [formGroup]="form" (ngSubmit)='onSubmit()'>
    <mat-grid-tile
      colspan='3'
      rowspan='3'
      style="background: rgb(203, 250, 203);">

      <mat-spinner *ngIf='!modelLoaded'></mat-spinner>

      <div *ngIf='!picBuff && imageURL === "" && modelLoaded' class="dropzone"> 
        <input *ngIf='!picBuff' type="file" formControlName='pic' (change)='onFileChange($event)'>
        <!-- <span>OR</span>
        <mat-form-field appearance='fill' style="width: 90%;">
          <input matInput *ngIf='!picBuff' type="url" formControlName='url' (change)='onUrlChange($event)' placeholder="paste image url">
        </mat-form-field> -->
      </div>

      <div *ngIf='picBuff && modelLoaded' >
        <img id='subject' [src]="picBuff" class="upload" >
        <button mat-fab mat-ripple style="z-index: 3; position: absolute; top: 2%; right: 1%;" type="button" (click)='deletePic()'>
          <mat-icon>close</mat-icon>
        </button>
      </div>

      <div *ngIf='imageURL != "" && modelLoaded' >
        <img id='urlsubject' [src]="imageURL" class="upload" crossorigin='anonymous'>
        <button mat-fab mat-ripple style="z-index: 3; position: absolute; top: 2%; right: 1%;" type="button" (click)='deletePic()'>
          <mat-icon>close</mat-icon>
        </button>
      </div>

    </mat-grid-tile>

    <mat-grid-tile
      colspan='1'
      rowspan='3'
      style="background: lightblue">
      <div *ngIf='prediction === ""'>
        <h1>
          Detects chae
        </h1>
        <h3>
          upload an image
          <br>
          <mat-icon>keyboard_backspace</mat-icon>
        </h3>
      </div>
      <div *ngIf='prediction != ""'>
        <span *ngIf='prediction === labels[0]'>
          <h2>
            This is a {{prediction}}!
            <p [innerHTML]='sb'></p> 
          </h2>
        </span>
        <h2 *ngIf='prediction != labels[0]'>
          This is a {{prediction}}
        </h2>
        <h3>
          {{certainty | percent}}
        </h3>
      </div>
    </mat-grid-tile>
    
    <mat-grid-tile
      colspan='4'
      rowspan='1'
      style="background: lightgreen">
      <button mat-raised-button mat-ripple color='primary' (onClick)='onSubmit()' [disabled]='predicting'>
        Submit
      </button>
      <mat-spinner *ngIf='predicting'></mat-spinner>
    </mat-grid-tile>
  </form>
</mat-grid-list>